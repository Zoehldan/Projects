<!DOCTYPE html>
<html>
    <head>
        <title></title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script src="//cdn.jsdelivr.net/npm/phaser@3.11.0/dist/phaser.js"></script>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta charset="UTF-8">
    </head>
    <body>
        <script type="text/javascript">
        var config={
            type:Phaser.AUTO,
            width:800,
            height:600,
            physics:{
                default:"arcade",
                arcade:{
                    gravity:{y:200},
                    debug:false
                }
            },
            scene:{
                preload:init,
                create:rendering,
                update:update
            }
        };
        var basket;
        var apples;
        var cursors;
        var score=0;
        var gameOver=false;
        var scoreText;
        var game=new Phaser.Game(config);
        function init(){
            this.load.image("sky", "sky.png");
            this.load.image("basket", "basket.png");
            this.load.image("apple", "apple.png");

        }
        function rendering(){
            this.add.image(400, 300, "sky");
            apples=this.physics.add.staticGroup();
            apples.create(Phaser.Math.Between(27, 773), 27, "apple").setScale(0.2)
            basket.create(400, 500, "basket").setScale(0.3).refreshBody();
            basket.setCollideWorldBounds(true);
            apple.setCollideWorldBounds(true);
            apple.setBounce(1);
            cursors=this.input.keyboard.createCursorKeys();
            scoreText=this.add.text(500, 25, "Score: 0", {fontSize:"25px", fill:"#000"});

            this.physics.add.overlap(basket, apples, caught, null, this);
        }
        function update(){
            if(gameOver){
                return;
            }
            if(cursors.left.isDown){
                basket.setVelocityX(-100);
            }
            else if(cursors.right.isDown){
                basket.setVelocityX(100)
            }
            else{
                basket.setVelocityX(0)
            }
        }
        function caught(){
            apple.disableBody(true, true);
            caught++;
            score+=10;
            scoreText.setText("Score: "+score)
        }
        function miss(){
            missed++;
            if(missed>=3){
                this.physics.pause();
                apples.setTint(0xff0000);
                baskets.setTint(0xff0000);
                gameOver=true;
            }
        }
        </script>
    </body>
</html>